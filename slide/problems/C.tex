

\frame
{
  \frametitle{题目大意}

给定一棵 $n$ 个点的有根树，$1$ 号点为根。每个点有一个权值 $w_i$。

求一个最优的 DFS 序使得 $\sum\limits_{i=1}^n p_iw_i$ 最大。

}


\frame
{
  \frametitle{题解}

 	决策是考虑进入每个点之后选子树的顺序。\pause

子树内部显然用内部的最优方案。\pause

然后子树之间的贡献是先走的子树的大小乘后走的子树的权值和。\pause

所以按照子树大小除以权值和从大到小排序访问就是最优的。可以用调整法证明贪心是对的。\pause

时间复杂度 $O(n\log n)$。

}
